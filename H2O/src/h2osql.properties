waterConsumptionInsertSql=INSERT INTO THINGS_DATA (THINGS_ID, UNITS_ID, DATA, LOGGEDIN_TIME) VALUES(1, :deviceId, :volume, :loggedInTime)
#waterConsumptionInsertSql=INSERT INTO THINGS_DATA (DATA_ID , THINGS_ID, UNITS_ID, DATA, LOGGEDIN_TIME) VALUES((select max(DATA_ID)+1 from THINGS_DATA) ,:deviceId, 1, :volume, :loggedInTime)
getConsumptionDataForCurrentWeek=SELECT THINGS_ID, DATE(LOGGEDIN_TIME) AS DATE, SUM(DATA) AS CONSUMPTION FROM THINGS_DATA WHERE THINGS_ID IN (SELECT THINGS_ID FROM USER_THINGS WHERE USER_ID = :userId) AND YEARWEEK(LOGGEDIN_TIME) = YEARWEEK(NOW()) GROUP BY  DATE(LOGGEDIN_TIME) ORDER BY DATE(LOGGEDIN_TIME) ASC
getConsumptionDataForPreviousWeek=SELECT THINGS_ID, DATE(LOGGEDIN_TIME) AS DATE, SUM(DATA) AS CONSUMPTION FROM THINGS_DATA WHERE THINGS_ID IN (SELECT THINGS_ID FROM USER_THINGS WHERE USER_ID = :userId) AND YEARWEEK(LOGGEDIN_TIME) = YEARWEEK( current_date -interval 1 week ) GROUP BY  DATE(LOGGEDIN_TIME) ORDER BY DATE(LOGGEDIN_TIME) ASC
getConsumptionDataForCurrentMonth=SELECT THINGS_ID, DATE(LOGGEDIN_TIME) AS DATE, SUM(DATA) AS CONSUMPTION FROM THINGS_DATA WHERE THINGS_ID IN (SELECT THINGS_ID FROM USER_THINGS WHERE USER_ID = :userId) AND MONTH(CURDATE())= MONTH(LOGGEDIN_TIME) AND YEAR(LOGGEDIN_TIME) = YEAR(CURRENT_DATE) GROUP BY  DATE(LOGGEDIN_TIME) ORDER BY DATE(LOGGEDIN_TIME) ASC
getConsumptionDataForPreviousMonth=SELECT THINGS_ID, DATE(LOGGEDIN_TIME) AS DATE, SUM(DATA) AS CONSUMPTION FROM THINGS_DATA WHERE THINGS_ID IN (SELECT THINGS_ID FROM USER_THINGS WHERE USER_ID = :userId) AND YEAR(LOGGEDIN_TIME) = YEAR(CURRENT_DATE - INTERVAL 1 MONTH) AND MONTH(LOGGEDIN_TIME) = MONTH(CURRENT_DATE - INTERVAL 1 MONTH) GROUP BY DATE(LOGGEDIN_TIME) ORDER BY DATE(LOGGEDIN_TIME) ASC